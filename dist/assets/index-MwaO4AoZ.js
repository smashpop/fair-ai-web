import{r as g,V as j,l as c,u as f,R as e,E as t,F as b,ac as S,p as M,y as h,z as k,a7 as i,ab as L,B as C}from"./@vue-BCn4Dycc.js";import{D as R}from"./vue3-promise-dialog-Bil_GCmA.js";import{s as w,h as z,v as $,w as x}from"./index-C8gEbFyK.js";import{c as G}from"./attachFile-4TfBDXYJ.js";import{e as u,j as n,u as K,s as O,A as P,B as W,C as _,K as Y,L as q,x as H,I as J,o as U,M as Q,a as A,i as E,N as X,h as V}from"./vuetify-BJ8PFz4g.js";/* empty css             */import"./vue-router-CXp4ErzU.js";import"./axios-Cm0UX6qg.js";import"./pinia-DUAE3AJV.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vue-detect-browser-D3UAd87C.js";import"./vue-json-excel3-CIG-qtOt.js";import"./vue-country-flag-next-Byqo9PGL.js";function Z(){return w({url:"/ai-suggest-category-list",method:"get"})}function ee(d){return w({url:"/ai-suggest",method:"post",data:d})}function te(d){return z({url:"/file/upload",method:"post",data:d})}function ae(d){return console.log("sendMailApi=",d),w({url:"/ai-mail",method:"post",data:d})}const le=i("p",{class:"text-16 text-black font-weight-medium"}," 담당자 검토를 거쳐 최종적으로 등록되며, 등록 후 입력하신 이메일이나, 연락처로 안내 드립니다. ",-1),oe=i("p",{class:"text-body-1 text-color-222 font-weight-bold mt-10"},"구분 *",-1),se=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"신청자 성명 *",-1),ie=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"이메일 *",-1),ne=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"연락처 *",-1),ue=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"제목 *",-1),de=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"내용 *",-1),re=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"첨부파일",-1),ce=i("p",{class:"mt-2 text-body-2 text-color-999"}," 문의사항을 설명할 수 있는 파일이 있다면 첨부해 주세요. ",-1),me=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"}," 개인정보 수집 및 이용동의 ",-1),ge=i("textarea",{readonly:"",class:"privacy scroll"},`(재)엔씨문화재단(이하 ‘재단’)은 이용자의 개인정보를 중요시하며, ‘개인정보보호법’ 등 재단이 준수하여야 할 관련 법령상의 개인정보보호 규정을 준수하고 있습니다. 재단은 개인정보 처리방침을 통하여 정보주체(이하 ‘이용자’)께서 제공하는 개인정보가 어떠한 용도와 방식으로 이용되고 있으며, 개인정보보호를 위해 어떠한 조치가 취해지고 있는지 알려드립니다.\r
\r
1. 처리하는 개인정보의 항목 및 수집 방법\r
수집하려는 개인정보의 항목\r
* 국내 거주 : 휴대폰 번호, 성명, 생년월일, 성별, 이메일(아이디), 비밀번호, 중복가입확인정보(DI)\r
\r
* 국외 거주 : 성명, 생년월일, 성별, 이메일(아이디), 비밀번호\r
\r
개인정보의 보유 및 이용 기간\r
- 회원 탈퇴 시 까지\r
\r
동의를 거부하실 수 있으나 동의를 거부하실 경우 회원가입이 제한됩니다.`,-1),fe={__name:"SuggestView",setup(d){const o=g({title:"",contents:"",suggestName:"",suggestEmail:"",suggestTel:"",categoryId:null}),p=g([]),N=g({email:"hl2kxm@gmail.com",subject:"email test5",contents:"test email5"}),m=g({flag:!1,message:"등록이 완료되었습니다.",timeout:1500}),y=g([]);j(()=>{I()});async function I(){await Z().then(s=>{p.value=s.data.items,console.log("suggestCategorys=",p.value)}).catch(async s=>{console.log(">>Store-load SuggestCategory fail. error=",s)})}async function F(s){try{const l=new FormData;y.value.forEach(a=>{l.append("file",a)}),await te(l).then(async a=>{console.log("fileUpload response=",a.data.file);try{const r={suggestId:s,filename:a.data.file.filename,originalname:a.data.file.originalname,mimetype:a.data.file.mimetype};await G(r).then(v=>{console.log("attach response=",v.data)}).catch(v=>{x(" 파일등록 실패.")&&console.log("Err addNotice() - createAttachFileApi"),console.log(">createAttachFileApi() fail. error=",v)})}catch(r){console.error(r)}}).catch(a=>{x(" 파일등록 실패.")&&console.log("Err addNotice() - fileUploadApi"),console.log(">fileUploadApi() fail. error=",a)})}catch(l){console.error(l)}}async function T(){console.log(">>addSuggest()"),await ae(N.value),await $()?(console.log("YES"),await B(),D()):console.log("NO")}async function B(){await ee(o.value).then(async s=>{if(s.data.status==="success"){console.log("createSuggest response.data=",s.data);const l=s.data.item.id;F(l),m.value.flag=!0}else console.log("::fail data.code=",s.data.code)}).catch(s=>{x(" 등록 실패.")&&console.log("Err addSuggest() - createSuggestApi"),console.log(">createSuggestApi() fail. error=",s)})}function D(){o.value.title="",o.value.contents="",o.value.suggestName="",o.value.suggestEmail="",o.value.suggestTel="",o.value.categoryId=null}return(s,l)=>(c(),f(b,null,[e(E,{class:"pa-0",fluid:""},{default:t(()=>[e(u,{"no-gutters":""},{default:t(()=>[e(n,null,{default:t(()=>[e(K,{elevation:"0"},{default:t(()=>[e(O,{border:"0",class:"pa-0 mx-auto",style:{width:"1016px"}},{default:t(()=>[le,oe,e(P,{modelValue:o.value.categoryId,"onUpdate:modelValue":l[0]||(l[0]=a=>o.value.categoryId=a),inline:"",class:"mt-2","hide-details":""},{default:t(()=>[(c(!0),f(b,null,S(p.value,(a,r)=>(c(),f("span",{key:a},[e(W,{label:a.name,value:r,class:"mr-7 input-radio-custom text-black"},null,8,["label","value"])]))),128))]),_:1},8,["modelValue"]),e(u,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(n,{style:{width:"486px",flex:"0 0 auto"}},{default:t(()=>[se,e(_,{modelValue:o.value.suggestName,"onUpdate:modelValue":l[1]||(l[1]=a=>o.value.suggestName=a),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{"no-gutters":"",class:"mt-7 justify-space-between"},{default:t(()=>[e(n,{style:{width:"486px",flex:"0 0 auto"}},{default:t(()=>[ie,e(_,{modelValue:o.value.suggestEmail,"onUpdate:modelValue":l[2]||(l[2]=a=>o.value.suggestEmail=a),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),e(n,{style:{width:"500px",flex:"0 0 auto"}},{default:t(()=>[ne,e(_,{modelValue:o.value.suggestTel,"onUpdate:modelValue":l[3]||(l[3]=a=>o.value.suggestTel=a),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(n,null,{default:t(()=>[ue,e(_,{modelValue:o.value.title,"onUpdate:modelValue":l[4]||(l[4]=a=>o.value.title=a),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(n,null,{default:t(()=>[de,e(Y,{modelValue:o.value.contents,"onUpdate:modelValue":l[5]||(l[5]=a=>o.value.contents=a),variant:"outlined",clearable:"","clear-icon":"mdi-close-circle","auto-grow":"",rows:"12","row-height":"25","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(n,{style:{width:"500px",flex:"0 0 auto"}},{default:t(()=>[re,e(q,{modelValue:y.value,"onUpdate:modelValue":l[6]||(l[6]=a=>y.value=a),label:"첨부파일",accept:"image/*",chips:"","show-size":"",variant:"outlined",density:"compact","hide-details":""},{selection:t(({fileNames:a})=>[(c(!0),f(b,null,S(a,r=>(c(),M(H,{key:r,size:"small",label:"",color:"primary",class:"me-2"},{default:t(()=>[h(k(r),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),ce]),_:1})]),_:1}),e(u,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(n,null,{default:t(()=>[me,ge]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(n,null,{default:t(()=>[i("div",null,[e(J,{label:"개인정보 수집 및 이용에 동의합니다.",value:"","hide-details":"",class:"input-chk-custom",ripple:!1})])]),_:1})]),_:1})]),_:1}),e(U,{class:"border-opacity-100 mt-15 mb-10",style:{"border-color":"#e4e4e4"},thickness:1}),e(Q,{class:"justify-center submit-btn pa-0"},{default:t(()=>[e(A,{variant:"plain",class:"btn-plain-custom submit",onClick:L(T,["stop"])},{default:t(()=>[h(" 등록 ")]),_:1}),e(A,{variant:"plain",class:"btn-plain-custom ml-5 cancel"},{default:t(()=>[h("취소")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(X,{modelValue:m.value.flag,"onUpdate:modelValue":l[7]||(l[7]=a=>m.value.flag=a),timeout:m.value.timeout},{default:t(()=>[h(k(m.value.message),1)]),_:1},8,["modelValue","timeout"]),e(C(R))],64))}},pe=i("p",{class:"text-68 font-weight-bold text-black"},"문의·제안 등록",-1),Ee={__name:"index",setup(d){return(o,p)=>(c(),f(b,null,[e(V,{class:"mx-auto d-flex justify-center align-end",width:"1360",height:"180"},{default:t(()=>[pe]),_:1}),e(V,{class:"mx-auto board mt-15",width:"1360"},{default:t(()=>[e(E,{class:"pa-0",fluid:""},{default:t(()=>[e(U,{class:"border-opacity-100 mt-5",thickness:3}),e(u,{"no-gutters":""},{default:t(()=>[e(V,{width:"1360",class:"mx-auto pt-15"},{default:t(()=>[e(C(fe))]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{Ee as default};

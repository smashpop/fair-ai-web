import{r as c,V as M,l as m,u as f,R as e,E as a,F as _,ac as A,p as L,y as h,z as k,ab as R,B as C,a7 as i}from"./@vue-BWISRTlF.js";import{D as $}from"./vue3-promise-dialog-CJbxl8Nd.js";import{_ as z,c as G}from"./attachFile-wGaeRoYR.js";import{s as w,h as K,v as O,w as b}from"./index-0Y0yupQ_.js";import{e as r,j as d,u as P,s as W,A as Y,B as q,C as v,K as H,L as J,x as Q,o as E,M as X,a as U,i as N,N as Z,h as x}from"./vuetify-B0VsVii7.js";/* empty css             */import"./vue-router-DdhOKFq7.js";import"./axios-Cm0UX6qg.js";import"./pinia-8EFU34cO.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vue-detect-browser-D3UAd87C.js";import"./vue-json-excel3-ruWnlMOt.js";import"./vue-country-flag-next-DHK649fL.js";function ee(){return w({url:"/ai-suggest-category-list",method:"get"})}function te(u){return w({url:"/ai-suggest",method:"post",data:u})}function ae(u){return K({url:"/file/upload",method:"post",data:u})}function le(u){return console.log("sendMailApi=",u),w({url:"/ai-mail",method:"post",data:u})}const oe=i("p",{class:"text-16 text-black font-weight-medium"}," 담당자 검토를 거쳐 최종적으로 등록되며, 등록 후 입력하신 이메일이나, 연락처로 안내 드립니다. ",-1),se=i("p",{class:"text-body-1 text-color-222 font-weight-bold mt-10"},"구분 *",-1),ie=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"신청자 성명 *",-1),ue=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"이메일 *",-1),ne=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"연락처 *",-1),de=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"제목 *",-1),re=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"내용 *",-1),ce=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"첨부파일",-1),me=i("p",{class:"mt-2 text-body-2 text-color-999"}," 문의사항을 설명할 수 있는 파일이 있다면 첨부해 주세요. ",-1),ge={__name:"SuggestView",setup(u){const o=c({title:"",contents:"",suggestName:"",suggestEmail:"",suggestTel:"",categoryId:null}),p=c([]),F=c({email:"hl2kxm@gmail.com",subject:"email test5",contents:"test email5"}),S=c(!1),g=c({flag:!1,message:"등록이 완료되었습니다.",timeout:1500}),y=c([]);M(()=>{T()});async function T(){await ee().then(s=>{p.value=s.data.items,console.log("suggestCategorys=",p.value)}).catch(async s=>{console.log(">>Store-load SuggestCategory fail. error=",s)})}async function B(s){try{const l=new FormData;y.value.forEach(t=>{l.append("file",t)}),await ae(l).then(async t=>{console.log("fileUpload response=",t.data.file);try{const n={suggestId:s,filename:t.data.file.filename,originalname:t.data.file.originalname,mimetype:t.data.file.mimetype};await G(n).then(V=>{console.log("attach response=",V.data)}).catch(V=>{b(" 파일등록 실패.")&&console.log("Err addNotice() - createAttachFileApi"),console.log(">createAttachFileApi() fail. error=",V)})}catch(n){console.error(n)}}).catch(t=>{b(" 파일등록 실패.")&&console.log("Err addNotice() - fileUploadApi"),console.log(">fileUploadApi() fail. error=",t)})}catch(l){console.error(l)}}async function I(){console.log(">>addSuggest()"),await le(F.value),await O()?(console.log("YES"),await j(),D()):console.log("NO")}async function j(){await te(o.value).then(async s=>{if(s.data.status==="success"){console.log("createSuggest response.data=",s.data);const l=s.data.item.id;B(l),g.value.flag=!0}else console.log("::fail data.code=",s.data.code)}).catch(s=>{b(" 등록 실패.")&&console.log("Err addSuggest() - createSuggestApi"),console.log(">createSuggestApi() fail. error=",s)})}function D(){o.value.title="",o.value.contents="",o.value.suggestName="",o.value.suggestEmail="",o.value.suggestTel="",o.value.categoryId=null}return(s,l)=>(m(),f(_,null,[e(N,{class:"pa-0",fluid:""},{default:a(()=>[e(r,{"no-gutters":""},{default:a(()=>[e(d,null,{default:a(()=>[e(P,{elevation:"0"},{default:a(()=>[e(W,{border:"0",class:"pa-0 mx-auto",style:{width:"1016px"}},{default:a(()=>[oe,se,e(Y,{modelValue:o.value.categoryId,"onUpdate:modelValue":l[0]||(l[0]=t=>o.value.categoryId=t),inline:"",class:"mt-2","hide-details":""},{default:a(()=>[(m(!0),f(_,null,A(p.value,(t,n)=>(m(),f("span",{key:t},[e(q,{label:t.name,value:n,class:"mr-7 input-radio-custom text-black"},null,8,["label","value"])]))),128))]),_:1},8,["modelValue"]),e(r,{"no-gutters":"",class:"mt-7"},{default:a(()=>[e(d,{style:{width:"486px",flex:"0 0 auto"}},{default:a(()=>[ie,e(v,{modelValue:o.value.suggestName,"onUpdate:modelValue":l[1]||(l[1]=t=>o.value.suggestName=t),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7 justify-space-between"},{default:a(()=>[e(d,{style:{width:"486px",flex:"0 0 auto"}},{default:a(()=>[ue,e(v,{modelValue:o.value.suggestEmail,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value.suggestEmail=t),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),e(d,{style:{width:"500px",flex:"0 0 auto"}},{default:a(()=>[ne,e(v,{modelValue:o.value.suggestTel,"onUpdate:modelValue":l[3]||(l[3]=t=>o.value.suggestTel=t),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7"},{default:a(()=>[e(d,null,{default:a(()=>[de,e(v,{modelValue:o.value.title,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.title=t),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7"},{default:a(()=>[e(d,null,{default:a(()=>[re,e(H,{modelValue:o.value.contents,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.contents=t),variant:"outlined",clearable:"","clear-icon":"mdi-close-circle","auto-grow":"",rows:"12","row-height":"25","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7"},{default:a(()=>[e(d,{style:{width:"500px",flex:"0 0 auto"}},{default:a(()=>[ce,e(J,{modelValue:y.value,"onUpdate:modelValue":l[6]||(l[6]=t=>y.value=t),label:"선택된 파일 없음",accept:"image/*",chips:"","show-size":"",variant:"outlined",density:"compact","hide-details":""},{selection:a(({fileNames:t})=>[(m(!0),f(_,null,A(t,n=>(m(),L(Q,{key:n,size:"small",label:"",color:"primary",class:"me-2"},{default:a(()=>[h(k(n),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),me]),_:1})]),_:1}),e(z,{modelValue:S.value,"onUpdate:modelValue":l[7]||(l[7]=t=>S.value=t)},null,8,["modelValue"])]),_:1}),e(E,{class:"border-opacity-100 mt-15 mb-10",style:{"border-color":"#e4e4e4"},thickness:1}),e(X,{class:"justify-center submit-btn pa-0"},{default:a(()=>[e(U,{variant:"plain",class:"btn-plain-custom submit",onClick:R(I,["stop"])},{default:a(()=>[h(" 등록 ")]),_:1}),e(U,{variant:"plain",class:"btn-plain-custom ml-5 cancel"},{default:a(()=>[h("취소")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(Z,{modelValue:g.value.flag,"onUpdate:modelValue":l[8]||(l[8]=t=>g.value.flag=t),timeout:g.value.timeout},{default:a(()=>[h(k(g.value.message),1)]),_:1},8,["modelValue","timeout"]),e(C($))],64))}},fe=i("p",{class:"text-68 font-weight-bold text-black"},"문의·제안 등록",-1),Ce={__name:"index",setup(u){return(o,p)=>(m(),f(_,null,[e(x,{class:"mx-auto d-flex justify-center align-end",width:"1360",height:"180"},{default:a(()=>[fe]),_:1}),e(x,{class:"mx-auto board mt-15",width:"1360"},{default:a(()=>[e(N,{class:"pa-0",fluid:""},{default:a(()=>[e(E,{class:"border-opacity-100 mt-5",thickness:3}),e(r,{"no-gutters":""},{default:a(()=>[e(x,{width:"1360",class:"mx-auto pt-15"},{default:a(()=>[e(C(ge))]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{Ce as default};

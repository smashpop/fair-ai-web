import{r as g,V as j,l as c,u as f,R as e,E as t,F as _,ac as S,p as M,y as h,z as A,ab as z,B as C,a7 as i}from"./@vue-BCn4Dycc.js";import{D as L}from"./vue3-promise-dialog-Bil_GCmA.js";import{s as w,h as R,v as $,w as x}from"./index-B-GOdT_t.js";import{c as G}from"./attachFile-AJFJexQi.js";import{e as r,j as d,u as J,t as K,y as O,z as P,A as y,J as W,K as Y,C as q,p as U,L as H,a as k,i as E,M as Q,h as V}from"./vuetify-DQNkjVST.js";/* empty css             */import"./vue-router-CXp4ErzU.js";import"./axios-Cm0UX6qg.js";import"./pinia-DUAE3AJV.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vue-detect-browser-D3UAd87C.js";import"./vue-json-excel3-CIG-qtOt.js";import"./vue-country-flag-next-Byqo9PGL.js";function X(){return w({url:"/ai-suggest-category-list",method:"get"})}function Z(n){return w({url:"/ai-suggest",method:"post",data:n})}function ee(n){return R({url:"/file/upload",method:"post",data:n})}function te(n){return console.log("sendMailApi=",n),w({url:"/ai-mail",method:"post",data:n})}const ae=i("p",{class:"text-16 text-black font-weight-medium"}," 담당자 검토를 거쳐 최종적으로 등록되며, 등록 후 입력하신 이메일이나, 연락처로 안내 드립니다. ",-1),le=i("p",{class:"text-body-1 text-color-222 font-weight-bold mt-10"},"구분 *",-1),oe=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"신청자 성명 *",-1),se=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"이메일 *",-1),ie=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"연락처 *",-1),ne=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"제목 *",-1),ue=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"내용 *",-1),de=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"첨부파일",-1),re=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"}," 개인정보 수집 및 이용동의 ",-1),ce=i("textarea",{readonly:"",class:"privacy scroll"},`\r
(재)엔씨문화재단(이하 ‘재단’)은 이용자의 개인정보를 중요시하며, ‘개인정보보호법’ 등 재단이 준수하여야 할 관련 법령상의 개인정보보호 규정을 준수하고 있습니다. 재단은 개인정보 처리방침을 통하여 정보주체(이하 ‘이용자’)께서 제공하는 개인정보가 어떠한 용도와 방식으로 이용되고 있으며, 개인정보보호를 위해 어떠한 조치가 취해지고 있는지 알려드립니다.\r
\r
1. 처리하는 개인정보의 항목 및 수집 방법\r
수집하려는 개인정보의 항목\r
* 국내 거주 : 휴대폰 번호, 성명, 생년월일, 성별, 이메일(아이디), 비밀번호, 중복가입확인정보(DI)\r
\r
* 국외 거주 : 성명, 생년월일, 성별, 이메일(아이디), 비밀번호\r
\r
개인정보의 보유 및 이용 기간\r
- 회원 탈퇴 시 까지\r
\r
동의를 거부하실 수 있으나 동의를 거부하실 경우 회원가입이 제한됩니다.`,-1),me={__name:"SuggestView",setup(n){const o=g({title:"",contents:"",suggestName:"",suggestEmail:"",suggestTel:"",categoryId:null}),p=g([]),N=g({email:"hl2kxm@gmail.com",subject:"email test5",contents:"test email5"}),m=g({flag:!1,message:"등록이 완료되었습니다.",timeout:1500}),v=g([]);j(()=>{F()});async function F(){await X().then(s=>{p.value=s.data.items,console.log("suggestCategorys=",p.value)}).catch(async s=>{console.log(">>Store-load SuggestCategory fail. error=",s)})}async function I(s){try{const l=new FormData;v.value.forEach(a=>{l.append("file",a)}),await ee(l).then(async a=>{console.log("fileUpload response=",a.data.file);try{const u={suggestId:s,filename:a.data.file.filename,originalname:a.data.file.originalname,mimetype:a.data.file.mimetype};await G(u).then(b=>{console.log("attach response=",b.data)}).catch(b=>{x(" 파일등록 실패.")&&console.log("Err addNotice() - createAttachFileApi"),console.log(">createAttachFileApi() fail. error=",b)})}catch(u){console.error(u)}}).catch(a=>{x(" 파일등록 실패.")&&console.log("Err addNotice() - fileUploadApi"),console.log(">fileUploadApi() fail. error=",a)})}catch(l){console.error(l)}}async function T(){console.log(">>addSuggest()"),await te(N.value),await $()?(console.log("YES"),await B(),D()):console.log("NO")}async function B(){await Z(o.value).then(async s=>{if(s.data.status==="success"){console.log("createSuggest response.data=",s.data);const l=s.data.item.id;I(l),m.value.flag=!0}else console.log("::fail data.code=",s.data.code)}).catch(s=>{x(" 등록 실패.")&&console.log("Err addSuggest() - createSuggestApi"),console.log(">createSuggestApi() fail. error=",s)})}function D(){o.value.title="",o.value.contents="",o.value.suggestName="",o.value.suggestEmail="",o.value.suggestTel="",o.value.categoryId=null}return(s,l)=>(c(),f(_,null,[e(E,{class:"pa-0",fluid:""},{default:t(()=>[e(r,{"no-gutters":""},{default:t(()=>[e(d,null,{default:t(()=>[e(J,{elevation:"0"},{default:t(()=>[e(K,{border:"0",class:"pa-0 mx-auto",style:{width:"1016px"}},{default:t(()=>[ae,le,e(O,{modelValue:o.value.categoryId,"onUpdate:modelValue":l[0]||(l[0]=a=>o.value.categoryId=a),inline:"",density:"compact",color:"primary"},{default:t(()=>[(c(!0),f(_,null,S(p.value,(a,u)=>(c(),f("span",{key:a},[e(P,{class:"mr-2",label:a.name,value:u},null,8,["label","value"])]))),128))]),_:1},8,["modelValue"]),e(r,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(d,{style:{width:"486px",flex:"0 0 auto"}},{default:t(()=>[oe,e(y,{modelValue:o.value.suggestName,"onUpdate:modelValue":l[1]||(l[1]=a=>o.value.suggestName=a),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7 justify-space-between"},{default:t(()=>[e(d,{style:{width:"486px",flex:"0 0 auto"}},{default:t(()=>[se,e(y,{modelValue:o.value.suggestEmail,"onUpdate:modelValue":l[2]||(l[2]=a=>o.value.suggestEmail=a),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),e(d,{style:{width:"500px",flex:"0 0 auto"}},{default:t(()=>[ie,e(y,{modelValue:o.value.suggestTel,"onUpdate:modelValue":l[3]||(l[3]=a=>o.value.suggestTel=a),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(d,null,{default:t(()=>[ne,e(y,{modelValue:o.value.title,"onUpdate:modelValue":l[4]||(l[4]=a=>o.value.title=a),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(d,null,{default:t(()=>[ue,e(W,{modelValue:o.value.contents,"onUpdate:modelValue":l[5]||(l[5]=a=>o.value.contents=a),variant:"outlined",clearable:"","clear-icon":"mdi-close-circle","auto-grow":"",rows:"12","row-height":"25"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(d,{style:{width:"500px",flex:"0 0 auto"}},{default:t(()=>[de,e(Y,{modelValue:v.value,"onUpdate:modelValue":l[6]||(l[6]=a=>v.value=a),label:"첨부파일",accept:"image/*",chips:"","show-size":"",variant:"outlined",density:"compact"},{selection:t(({fileNames:a})=>[(c(!0),f(_,null,S(a,u=>(c(),M(q,{key:u,size:"small",label:"",color:"primary",class:"me-2"},{default:t(()=>[h(A(u),1)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{"no-gutters":"",class:"mt-7"},{default:t(()=>[e(d,null,{default:t(()=>[re,ce]),_:1})]),_:1})]),_:1}),e(U,{class:"border-opacity-100 mt-15 mb-10",style:{"border-color":"#e4e4e4"},thickness:1}),e(H,{class:"justify-center submit-btn pa-0"},{default:t(()=>[e(k,{variant:"plain",class:"btn-plain-custom submit",onClick:z(T,["stop"])},{default:t(()=>[h(" 등록 ")]),_:1}),e(k,{variant:"plain",class:"btn-plain-custom ml-5 cancel"},{default:t(()=>[h("취소")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(Q,{modelValue:m.value.flag,"onUpdate:modelValue":l[7]||(l[7]=a=>m.value.flag=a),timeout:m.value.timeout},{default:t(()=>[h(A(m.value.message),1)]),_:1},8,["modelValue","timeout"]),e(C(L))],64))}},ge=i("p",{class:"text-68 font-weight-bold text-black"},"문의·제안 등록",-1),Ce={__name:"index",setup(n){return(o,p)=>(c(),f(_,null,[e(V,{class:"mx-auto d-flex justify-center align-end",width:"1360",height:"180"},{default:t(()=>[ge]),_:1}),e(V,{class:"mx-auto board mt-15",width:"1360"},{default:t(()=>[e(E,{class:"pa-0",fluid:""},{default:t(()=>[e(U,{class:"border-opacity-100 mt-5",thickness:3}),e(r,{"no-gutters":""},{default:t(()=>[e(V,{width:"1360",class:"mx-auto pt-15"},{default:t(()=>[e(C(me))]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{Ce as default};

import{r as v,l as h,u as w,R as e,E as a,y as p,F as x,ac as $,p as I,z as D,ab as R,B as A,a7 as i}from"./@vue-BWISRTlF.js";import{D as B}from"./vue3-promise-dialog-CJbxl8Nd.js";import{_ as E}from"./DatePicker-NzS4iza4.js";import{_ as O,c as T}from"./attachFile-wGaeRoYR.js";import{s as L,h as z,i as M,w as _}from"./index-0Y0yupQ_.js";import{J,e as d,j as n,u as K,s as P,C as b,K as W,h as u,D as U,L as Y,x as G,o as S,M as H,a as q,i as N,N as Q}from"./vuetify-B0VsVii7.js";/* empty css             */import"./vue-router-DdhOKFq7.js";import"./axios-Cm0UX6qg.js";import"./pinia-8EFU34cO.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vue-detect-browser-D3UAd87C.js";import"./vue-json-excel3-ruWnlMOt.js";import"./vue-country-flag-next-DHK649fL.js";function X(c){return L({url:"/ai-event-request",method:"post",data:c})}function Z(c){return z({url:"/file/upload",method:"post",data:c})}const ee=i("p",{class:"text-16 text-black font-weight-medium"}," 담당자 검토를 거쳐 최종적으로 등록되며, 등록 후 입력하신 이메일이나, 연락처로 안내 드립니다. ",-1),te=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"행사 제목 *",-1),ae=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"행사 내용 *",-1),le=i("p",{class:"text-body-1 text-color-222 font-weight-bold mt-7 mb-2"},"행사 일정 *",-1),oe=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"참가신청 기간",-1),se=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"비용",-1),ie=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"행사 URL",-1),ne=i("p",{class:"mt-2 text-body-2 text-color-999"}," 담당자 검토를 거쳐 최종적으로 등록되며, 등록 후 입력하신 이메일이나, 연락처로 안내 드립니다. ",-1),de=i("p",{class:"text-body-1 text-color-222 font-weight-bold mb-2"},"첨부 파일",-1),ue=i("p",{class:"mt-2 text-body-2 text-color-999"}," 행사 포스터나 안내문 등의 파일을 첨부해 주세요. ",-1),re={data(){return{select:{state:"오전 09:30",abbr:"0930"},items:[{state:"오전 09:30",abbr:"0930"},{state:"오전 10:00",abbr:"1000"}]}}},ce=Object.assign(re,{__name:"EventRegistView",setup(c){const m=J(),o=v({eventName:"",contents:"",startDate:m.toISO(new Date),endDate:m.toISO(new Date),place:"",fee:null,reqStartDate:null,reqEndDate:null,url:"",imageFileUrl:"",reqName:"",reqEmail:"",reqTel:"",createdId:null}),y=v(!1),f=v({flag:!1,message:"등록이 완료되었습니다.",timeout:1500}),g=v([]);function k(){o.value.eventName="",o.value.contents="",o.value.startDate=m.toISO(new Date),o.value.endDate=m.toISO(new Date),o.value.place="",o.value.fee="",o.value.reqStartDate="",o.value.reqEndDate="",o.value.url="",o.value.imageFileUrl=null,o.value.reqName="",o.value.reqEmail="",o.value.reqTel=""}async function F(s){try{const l=new FormData;g.value.forEach(t=>{l.append("file",t)}),await Z(l).then(async t=>{console.log("fileUpload response=",t.data.file);try{const r={suggestId:s,filename:t.data.file.filename,originalname:t.data.file.originalname,mimetype:t.data.file.mimetype};await T(r).then(V=>{console.log("attach response=",V.data)}).catch(V=>{_(" 파일등록 실패.")&&console.log("Err addNotice() - createAttachFileApi"),console.log(">createAttachFileApi() fail. error=",V)})}catch(r){console.error(r)}}).catch(t=>{_(" 파일등록 실패.")&&console.log("Err addNotice() - fileUploadApi"),console.log(">fileUploadApi() fail. error=",t)})}catch(l){console.error(l)}}async function j(){await M("등룍 하시겠습니까?")?(console.log("YES"),await C(),k()):console.log("NO")}async function C(){await X(o.value).then(async s=>{if(s.data.status==="success"){console.log("createEvent response.data=",s.data);const l=s.data.item.id;F(l),f.value.flag=!0}else console.log("::fail data.code=",s.data.code)}).catch(s=>{_(" 등록 실패.")&&console.log("Err addEvent() - createEventApi"),console.log(">createEventApi() fail. error=",s)})}return(s,l)=>(h(),w(x,null,[e(N,{class:"pa-0",fluid:""},{default:a(()=>[e(d,{"no-gutters":""},{default:a(()=>[e(n,null,{default:a(()=>[e(K,{elevation:"0"},{default:a(()=>[e(P,{border:"0",class:"pa-0 mx-auto",style:{width:"1016px"}},{default:a(()=>[ee,e(d,{class:"mt-10","no-gutters":""},{default:a(()=>[e(n,null,{default:a(()=>[te,e(b,{modelValue:o.value.eventName,"onUpdate:modelValue":l[0]||(l[0]=t=>o.value.eventName=t),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{"no-gutters":"",class:"mt-7"},{default:a(()=>[e(n,null,{default:a(()=>[ae,e(W,{modelValue:o.value.contents,"onUpdate:modelValue":l[1]||(l[1]=t=>o.value.contents=t),variant:"outlined",clearable:"","clear-icon":"mdi-close-circle","auto-grow":"","hide-details":"",rows:"10","row-height":"25"},null,8,["modelValue"])]),_:1})]),_:1}),le,e(d,{"no-gutters":"",class:"d-flex justity-start"},{default:a(()=>[e(n,{class:"d-flex align-center"},{default:a(()=>[e(u,{width:"177"},{default:a(()=>[e(E,{modelValue:o.value.startDate,"onUpdate:modelValue":l[2]||(l[2]=t=>o.value.startDate=t)},null,8,["modelValue"])]),_:1}),e(u,{width:"127",class:"mx-2"},{default:a(()=>[e(U,{modelValue:s.select,"onUpdate:modelValue":l[3]||(l[3]=t=>s.select=t),hint:`${s.select.state}, ${s.select.abbr}`,items:s.items,"item-title":"state","item-value":"abbr",label:"Select","return-object":"","single-line":"","hide-details":"",class:"select-custom",style:{width:"127px",height:"40px"}},null,8,["modelValue","hint","items"])]),_:1}),p(" ~ "),e(u,{width:"177",class:"mx-2"},{default:a(()=>[e(E,{modelValue:o.value.endDate,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.endDate=t)},null,8,["modelValue"])]),_:1}),e(u,{width:"127"},{default:a(()=>[e(U,{modelValue:s.select,"onUpdate:modelValue":l[5]||(l[5]=t=>s.select=t),hint:`${s.select.state}, ${s.select.abbr}`,items:s.items,"item-title":"state","item-value":"abbr",label:"Select","return-object":"","single-line":"","hide-details":"",class:"select-custom",style:{width:"127px",height:"40px"}},null,8,["modelValue","hint","items"])]),_:1})]),_:1})]),_:1}),e(d,{"no-gutters":"",class:"justify-space-between mt-7"},{default:a(()=>[e(n,{style:{width:"493px",flex:"0 0 auto"}},{default:a(()=>[oe,e(b,{modelValue:o.value.place,"onUpdate:modelValue":l[6]||(l[6]=t=>o.value.place=t),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),e(n,{style:{width:"493px",flex:"0 0 auto"}},{default:a(()=>[se,e(b,{modelValue:o.value.fee,"onUpdate:modelValue":l[7]||(l[7]=t=>o.value.fee=t),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{"no-gutters":"",class:"justify-space-between mt-7"},{default:a(()=>[e(n,{style:{width:"493px",flex:"0 0 auto"}},{default:a(()=>[ie,e(b,{modelValue:o.value.url,"onUpdate:modelValue":l[8]||(l[8]=t=>o.value.url=t),variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"]),ne]),_:1}),e(n,{style:{width:"493px",flex:"0 0 auto"}},{default:a(()=>[de,e(Y,{modelValue:g.value,"onUpdate:modelValue":l[9]||(l[9]=t=>g.value=t),label:"첨부파일",accept:"image/*",chips:"","show-size":"",variant:"outlined",density:"compact","hide-details":""},{selection:a(({fileNames:t})=>[(h(!0),w(x,null,$(t,r=>(h(),I(G,{key:r,size:"small",label:"",color:"primary",class:"me-2"},{default:a(()=>[p(D(r),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),ue]),_:1})]),_:1}),e(O,{modelValue:y.value,"onUpdate:modelValue":l[10]||(l[10]=t=>y.value=t)},null,8,["modelValue"])]),_:1}),e(S,{class:"border-opacity-100 mt-15 mb-10",style:{"border-color":"#e4e4e4"},thickness:1}),e(H,{class:"justify-center submit-btn"},{default:a(()=>[e(q,{class:"btn-plain-custom submit",variant:"plain",onClick:R(j,["stop"])},{default:a(()=>[p(" 등록 ")]),_:1}),e(q,{class:"btn-plain-custom cancel ml-5",variant:"palin"},{default:a(()=>[p(" 취소 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(Q,{modelValue:f.value.flag,"onUpdate:modelValue":l[11]||(l[11]=t=>f.value.flag=t),timeout:f.value.timeout},{default:a(()=>[p(D(f.value.message),1)]),_:1},8,["modelValue","timeout"]),e(A(B))],64))}}),me=i("p",{class:"text-68 font-weight-bold text-black"},"행사등록 제안",-1),qe={__name:"index",setup(c){return(m,o)=>(h(),w(x,null,[e(u,{class:"mx-auto d-flex justify-center align-end",width:"1360",height:"180"},{default:a(()=>[me]),_:1}),e(u,{class:"mx-auto board mt-15",width:"1360"},{default:a(()=>[e(N,{class:"pa-0",fluid:""},{default:a(()=>[e(S,{class:"border-opacity-100 mt-5",thickness:3}),e(d,{"no-gutters":""},{default:a(()=>[e(u,{width:"1360",class:"mx-auto pt-15"},{default:a(()=>[e(A(ce))]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{qe as default};
